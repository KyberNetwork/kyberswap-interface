---
description: KyberSwap project-wide development conventions
globs: ["**/*.ts", "**/*.tsx", "**/*.js", "**/*.jsx"]
alwaysApply: true
---

# KyberSwap Development Rules

## Package Manager

- Use `pnpm` exclusively (not npm or yarn)
- Run `pnpm build-package` after modifying any shared package

## TypeScript

- Strict mode enabled - no `any` types without justification
- Use explicit return types for exported functions
- Prefer `interface` over `type` for object shapes

## React Patterns

- Functional components only (no class components)
- Use hooks for all state and side effects
- Destructure props in function signature

```typescript
// ✅ Good
function TokenSelector({ tokens, onSelect }: TokenSelectorProps) {
  const [search, setSearch] = useState("");
  // ...
}

// ❌ Bad
class TokenSelector extends React.Component {
  // ...
}
```

## Styling

- Use styled-components exclusively
- No inline styles, CSS modules, or Tailwind
- Theme values from `src/theme`

```typescript
// ✅ Good
const Button = styled.button`
  background: ${({ theme }) => theme.primary};
  padding: 12px 24px;
`

// ❌ Bad
<button style={{ background: 'blue' }}>
```

## Imports

Order imports as follows:

1. React and external libraries
2. Internal packages (`@kyberswap/*`)
3. Local absolute imports
4. Relative imports
5. Type imports
6. Style imports

## State Management

- Redux Toolkit for global app state
- RTK Query for API/server state
- Zustand for widget-local state
- useState for component-local state

## File Naming

- Components: `PascalCase.tsx`
- Hooks: `useCamelCase.ts`
- Utils: `camelCase.ts`
- Constants: `SCREAMING_SNAKE_CASE`

## Before Committing

Always run:

```bash
pnpm lint
pnpm type-check
```
